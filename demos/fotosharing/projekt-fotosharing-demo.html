<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Foto-Demo ‚Äì Login & Upload</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">

  <link rel="icon" href="/assets/img/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="/assets/img/favicon.svg">
  <link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png">
  <link rel="manifest" href="/assets/img/site.webmanifest">

  <link rel="stylesheet" href="/assets/css/tokens.css">
  <link rel="stylesheet" href="/assets/css/demo.css">
</head>

<body>
  <main class="container">

    <nav class="demo-topbar" aria-label="Demo Navigation">
      <a class="demo-back" href="/#portfolio">‚Üê Zur√ºck zu den Projekten</a>
    </nav>

    <h1>üì∏ Foto-Sharing Demo</h1>    

    <!-- LOGIN / REGISTER -->
    <section id="authSection">
      <h2>Login / Registrierung</h2>

      <label class="sr-only" for="email">E-Mail</label>
      <input id="email" type="email" placeholder="E-Mail" autocomplete="email">

      <label class="sr-only" for="password">Passwort</label>
      <input id="password" type="password" placeholder="Passwort" autocomplete="current-password">

      <div class="btn-row">
        <button id="btnLogin" type="button">Login</button>
        <button id="btnRegister" type="button" class="btn-secondary">Registrieren</button>
      </div>

      <p id="authStatus" class="status" aria-live="polite"></p>
    </section>

    <!-- UPLOAD -->
    <section id="uploadSection" class="hidden">
      <h2>Foto hochladen</h2>

      <input type="file" id="fileInput" accept="image/*">

      <div class="btn-row">
        <button id="btnUpload" type="button">Upload</button>
        <button id="btnLogout" type="button" class="btn-secondary">Logout</button>
      </div>

      <p id="uploadStatus" class="status" aria-live="polite"></p>
      <p class="hint">Demo-Limit: maximal 20 Fotos pro Benutzer. Uploads werden nach 14 Tagen automatisch gel√∂scht.</p>      

      <!-- üìå Share-Verwaltung -->
      <details id="sharesSection" style="margin-top:1rem;">
  <summary style="cursor:pointer;">
    <strong>Meine Freigaben</strong>
    <span id="sharesCount" class="hint" style="margin-left:0.5rem;"></span>
  </summary>

  <div style="margin-top:0.75rem;">
    <div class="btn-row">
      <button id="btnReloadShares" type="button" class="btn-secondary">Aktualisieren</button>
      <button id="btnToggleExpired" type="button" class="btn-secondary">Abgelaufene anzeigen</button>      
    </div>

    <div id="sharesList">
      <p class="hint">Noch keine Freigaben.</p>
    </div>

    <p id="sharesStatus" class="status" aria-live="polite"></p>
  </div>
</details>


      <h2>Meine Fotos</h2>

      <div class="btn-row" style="align-items:center; gap:0.75rem; flex-wrap:wrap;">
        <button id="btnShareSelected" type="button" disabled>
          Freigabelink erstellen
        </button>

        <label for="expiresDays" class="sr-only">G√ºltigkeit</label>
          <select id="expiresDays" class="btn-secondary">
            <option value="1">1 Tag</option>
            <option value="7" selected>7 Tage</option>
            <option value="30">30 Tage</option>
          </select>

        <button id="btnClearSelection" type="button" class="btn-secondary" disabled>
          Auswahl aufheben
        </button>

        <span id="selectionInfo" class="hint" style="margin-left:auto;">
          0 ausgew√§hlt
        </span>
      </div>

      <!-- üëá HIER kommt das rein -->
      <div id="shareResult" class="hidden" style="margin-top:0.75rem;">
        <div class="btn-row">
          <button type="button" id="btnCopyShare" class="btn-secondary">Link kopieren</button>
          <button type="button" id="btnOpenShare" class="btn-secondary">Link √∂ffnen</button>
        </div>

        <p id="shareHint" class="hint" style="margin:0.5rem 0 0;"></p>
      </div>

      <div id="gallery"></div>


    </section>

  </main>

  <script src="https://unpkg.com/pocketbase/dist/pocketbase.umd.js"></script>
  <script type="module" src="/demos/fotosharing/fotosharing.js"></script>
</body>
</html>



